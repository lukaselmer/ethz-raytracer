{"version":3,"file":"./public/out/compiled.min.js","sources":["./public/out/compiled.js"],"names":["Camera","Color","Cylinder","Ellipsoid","Light","LightIntensity","Ray","RayTracer","ReflectionProperty","Scene","SceneLoader","Sphere","position","direction","upDirection","distance","fieldOfView","width","height","this","calibrateCamera","prototype","toUnitVector","rightDirection","cross","imagePaneHeight","Math","tan","imagePaneWidth","imageCenter","add","multiply","getCenter","r","g","b","Vector","elements","val","$V","random","color","scale","multiplyColor","toArray","dup","toVector","axis_line","fixed_x","fixed_y","fixed_z","radius_x","radius_y","radius_z","reflectionProperties","radius_x_2","square","radius_y_2","radius_z_2","norm","intersectionPoint","intersection","n","e","subtract","intersects","ray","a","c","dir","oc","root","t1","t2","under_root","line","anchor","sqrt","RayConfig","intersectionDelta","min","center","t","$M","location","intensity","ambient","diffuse","specular","refraction","power","isInside","ModuleId","B1","undefined","B2","B3","B4","C1","C2","C3","D1","D2","ALT","SP1","document","$","ready","checkbox","k","label","query","v","_results","toString","indexOf","replace","split","forEach","q","tmp","createElement","type","value","name","id","setAttribute","appendChild","data","innerHTML","push","append","initRayConfig","illumination","reflection","antialiasing","recDepth","pixelX","pixelY","scene","trace","averageColorVector","colors","rays","traceRay","_this","castRays","console","setRlog","traceRec","map","reduce","previous","current","length","setElements","times","globalAmbient","globalAmbientColor","light","obj","pos","_i","_len","_ref","firstIntersection","ambientColor","lights","illuminate","reflectAndRefract","reflectedRay","refractedRay","specularReflection","specularRefraction","specularRays","specularColor","cos_theta_i","cos_theta_t","i","i_dot_n","n1","n2","r1","r2","ratio","reflectionDirection","reflectionPowerRatio","refractionDirection","refractionPowerRatio","sin_theta_t_2","refractionIndex","dot","Infinity","$L","E","frac","int","kd","ks","nv","specularHighlights","spepcularIntensity","w","wl","wr","intersections","diffuseColor","specularExponent","pow","antialiasing_translation_mean","camera","h","apply","j","p","concat","objects","addLight","addObject","object","ret","loadDefaults","PI","loadScene","loadAlternative","loadB3","loadB4","loadOriginal","rayTracer","radius","radiusSquared","c_minus_o","d","distSquared","o","rayDistanceClosestToCenter","shortestDistanceFromCenterToRaySquared","x","shoulLog","rlog","msg","log","num","call"],"mappings":"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"}