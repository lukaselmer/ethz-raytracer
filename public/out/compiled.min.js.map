{"version":3,"file":"./public/out/compiled.min.js","sources":["./public/out/compiled.js"],"names":["Camera","Color","Light","LightIntensity","Ray","RayTracer","ReflectionProperty","Scene","Sphere","position","direction","upDirection","distance","fieldOfView","width","height","this","calibrateCamera","prototype","toUnitVector","rightDirection","cross","imagePaneHeight","Math","tan","imagePaneWidth","imageCenter","add","multiply","imageTop","imageBottom","imageLeft","imageRight","getCenter","r","g","b","Vector","elements","val","$V","color","scale","multiplyColor","toArray","dup","toVector","location","intensity","ambient","diffuse","specular","loadScene","camera","scene","PI","RayConfig","addLight","addObject","Infinity","trace","pixelX","pixelY","rayTracer","line","refraction","power","initRayConfig","illumination","reflection","antialiasing","ModuleId","B2","recDepth","averageColorVector","colors","rays","traceRay","_this","castRays","ray","traceRec","map","c","reduce","previous","current","length","setElements","times","globalAmbient","globalAmbientColor","intersection","light","obj","pos","_i","_len","_ref","firstIntersection","reflectionProperties","ambientColor","lights","illuminate","reflect","ks","nv","specularReflection","w","wr","norm","dot","subtract","specularColor","$L","E","frac","kd","n","specularHighlights","spepcularIntensity","wl","intersections","diffuseColor","specularExponent","pow","h","_results","push","apply","i","j","centerPixelX","centerPixelY","rayDirection","a","concat","refractionIndex","objects","object","intersects","min","ret","forEach","intersectionPoint","anchor","center","radius","radiusSquared","c_minus_o","d","distSquared","o","rayDistanceClosestToCenter","shortestDistanceFromCenterToRaySquared","t","x","console","setRlog","sqrt","p","shoulLog","random","rlog","msg","log","call"],"mappings":"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"}