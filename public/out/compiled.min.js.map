{"version":3,"file":"./public/out/compiled.min.js","sources":["./public/out/compiled.js"],"names":["Camera","Color","Cylinder","Ellipsoid","Light","LightIntensity","Ray","RayTracer","ReflectionProperty","Scene","SceneLoader","Sphere","position","direction","upDirection","distance","fieldOfView","width","height","this","calibrateCamera","prototype","toUnitVector","rightDirection","cross","imagePaneHeight","Math","tan","imagePaneWidth","imageCenter","add","multiply","getCenter","r","g","b","Vector","elements","val","$V","random","color","scale","multiplyColor","toArray","dup","toVector","axis_line","fixed_x","fixed_y","fixed_z","radius_x","radius_y","radius_z","reflectionProperties","radius_x_2","square","radius_z_2","norm","intersects","center","radius_y_2","intersectionPoint","n","t","subtract","$M","ray","a","c","dir","oc","root","t1","t2","under_root","line","anchor","e","sqrt","RayConfig","intersectionDelta","min","location","intensity","ambient","diffuse","specular","refraction","power","isInside","ModuleId","B1","undefined","B2","B3","B4","C1","C2","C3","D1","D2","ALT","document","$","ready","checkbox","k","label","query","v","_results","toString","indexOf","replace","split","forEach","q","tmp","createElement","type","value","name","id","setAttribute","appendChild","data","innerHTML","push","append","initRayConfig","illumination","reflection","antialiasing","recDepth","pixelX","pixelY","scene","trace","averageColorVector","colors","rays","traceRay","_this","castRays","console","setRlog","traceRec","map","reduce","previous","current","length","setElements","times","globalAmbient","globalAmbientColor","intersection","light","obj","pos","_i","_len","_ref","firstIntersection","ambientColor","lights","illuminate","reflectAndRefract","reflectedRay","refractedRay","specularReflection","specularRefraction","specularRays","specularColor","cos_theta_i","cos_theta_t","i","i_dot_n","n1","n2","r1","r2","ratio","reflectionDirection","reflectionPowerRatio","refractionDirection","refractionPowerRatio","sin_theta_t_2","refractionIndex","dot","Infinity","$L","E","frac","kd","ks","nv","specularHighlights","spepcularIntensity","w","wl","wr","intersections","diffuseColor","specularExponent","pow","antialiasing_translation_mean","camera","h","apply","j","p","concat","objects","addLight","addObject","object","ret","loadDefaults","PI","loadScene","loadAlternative","loadB3","loadB4","loadOriginal","rayTracer","radius","radiusSquared","c_minus_o","d","distSquared","o","rayDistanceClosestToCenter","shortestDistanceFromCenterToRaySquared","x","shoulLog","rlog","msg","log","num","call"],"mappings":"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"}