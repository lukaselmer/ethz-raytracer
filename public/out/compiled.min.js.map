{"version":3,"file":"./public/out/compiled.min.js","sources":["./public/out/compiled.js"],"names":["Camera","Color","Light","LightIntensity","Ray","RayTracer","ReflectionProperty","Scene","Sphere","position","direction","upDirection","distance","fieldOfView","width","height","this","calibrateCamera","prototype","toUnitVector","rightDirection","cross","imagePaneHeight","Math","tan","imagePaneWidth","imageCenter","add","multiply","imageTop","imageBottom","imageLeft","imageRight","getCenter","r","g","b","Vector","elements","val","$V","random","color","scale","multiplyColor","toArray","dup","toVector","location","intensity","ambient","diffuse","specular","loadScene","c","camera","scene","PI","RayConfig","addLight","ModuleId","ALT","addObject","Infinity","trace","pixelX","pixelY","rayTracer","line","refraction","power","isInside","B1","undefined","B2","B3","B4","C1","C2","C3","D1","D2","document","$","ready","checkbox","k","label","query","v","_results","toString","indexOf","replace","split","forEach","q","tmp","createElement","type","value","name","id","setAttribute","appendChild","data","innerHTML","push","append","initRayConfig","illumination","reflection","antialiasing","recDepth","intersectionDelta","averageColorVector","colors","rays","traceRay","_this","castRays","console","setRlog","ray","traceRec","map","reduce","previous","current","length","setElements","times","globalAmbient","globalAmbientColor","intersection","light","obj","pos","_i","_len","_ref","firstIntersection","reflectionProperties","ambientColor","lights","illuminate","reflectAndRefract","reflectedRay","refractedRay","specularReflection","specularRefraction","specularRays","specularColor","cos_theta_i","cos_theta_t","i","i_dot_n","n","n1","n2","r1","r2","ratio","reflectionDirection","reflectionPowerRatio","refractionDirection","refractionPowerRatio","sin_theta_t_2","norm","subtract","anchor","refractionIndex","dot","$L","square","sqrt","E","frac","kd","ks","nv","specularHighlights","spepcularIntensity","w","wl","wr","intersections","diffuseColor","specularExponent","pow","h","apply","j","centerPixelX","centerPixelY","rayDirection","a","concat","objects","object","intersects","min","ret","intersectionPoint","center","radius","radiusSquared","c_minus_o","d","distSquared","o","rayDistanceClosestToCenter","shortestDistanceFromCenterToRaySquared","t1","t2","x","p","shoulLog","rlog","msg","log","num","call"],"mappings":"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"}