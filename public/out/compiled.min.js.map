{"version":3,"file":"./public/out/compiled.min.js","sources":["./public/out/compiled.js"],"names":["Camera","Color","Cylinder","Ellipsoid","Light","LightIntensity","Ray","RayTracer","ReflectionProperty","Scene","SceneLoader","Sphere","SphereSphereIntersection","position","direction","upDirection","distance","fieldOfView","width","height","this","calibrateCamera","prototype","toUnitVector","rightDirection","cross","imagePaneHeight","Math","tan","imagePaneWidth","imageCenter","add","multiply","getCenter","r","g","b","Vector","elements","val","$V","random","color","scale","multiplyColor","toArray","dup","toVector","axis_line","fixed_x","fixed_y","fixed_z","radius_x","radius_y","radius_z","reflectionProperties","radius_x_2","square","radius_y_2","radius_z_2","norm","intersectionPoint","intersection","n","e","subtract","intersects","ray","a","c","dir","oc","root","t1","t2","under_root","line","anchor","sqrt","RayConfig","intersectionDelta","min","i","normal","center","t","$M","location","intensity","ambient","diffuse","specular","refraction","power","isInside","ModuleId","B1","undefined","B2","B3","B4","C1","C2","C3","D1","D2","ALT","SP1","document","$","ready","checkbox","k","label","query","v","_results","toString","indexOf","replace","split","forEach","q","tmp","createElement","type","value","name","id","setAttribute","appendChild","data","innerHTML","push","append","initRayConfig","illumination","reflection","antialiasing","recDepth","pixelX","pixelY","scene","trace","averageColorVector","colors","rays","traceRay","_this","castRays","console","setRlog","traceRec","map","reduce","previous","current","length","setElements","times","globalAmbient","globalAmbientColor","light","obj","pos","_i","_len","_ref","firstIntersection","ambientColor","lights","illuminate","reflectAndRefract","reflectedRay","refractedRay","specularReflection","specularRefraction","specularRays","specularColor","cos_theta_i","cos_theta_t","i_dot_n","n1","n2","r1","r2","ratio","reflectionDirection","reflectionPowerRatio","refractionDirection","refractionPowerRatio","sin_theta_t_2","refractionIndex","dot","Infinity","$L","E","frac","kd","ks","nv","specularHighlights","spepcularIntensity","w","wl","wr","diffuseColor","specularExponent","pow","antialiasing_translation_mean","camera","h","apply","j","p","concat","objects","addLight","addObject","object","ret","loadDefaults","PI","loadScene","loadAlternative","loadB3","loadB4","loadOriginal","sphere1","sphere2","rayTracer","radius","radiusSquared","c_minus_o","d","distSquared","o","rayDistanceClosestToCenter","shortestDistanceFromCenterToRaySquared","x","s1","s2","shoulLog","rlog","msg","log","num","call"],"mappings":"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"}